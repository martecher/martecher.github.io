(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ffW3:function(e,t,a){"use strict";a.r(t);var s=a("ofXK"),r=a("tyNb"),o=a("zk9Z"),c=(a("nWBv"),a("HXdO"),a("mrSG"),a("snw9"),a("eIep")),i=a("lJxs"),n=(a("JIr8"),a("LRne"),a("fXoL")),f=a("A5HK"),b=a("q/L4"),u=a("kt0X");const p=Object(u.o)("offers");var l=a("v0/F"),d=a("Wp6s"),m=a("bTqV");const h=function(e){return[e]};function O(e,t){if(1&e&&(n.Xb(0,"mat-card",2),n.Xb(1,"mat-card-header"),n.Sb(2,"div",3),n.Xb(3,"mat-card-title"),n.Cc(4,"Compa\xf1ia"),n.Wb(),n.Xb(5,"mat-card-subtitle"),n.Cc(6),n.Wb(),n.Wb(),n.Xb(7,"mat-card-content"),n.Xb(8,"p"),n.Cc(9),n.Wb(),n.Xb(10,"p"),n.Cc(11),n.Wb(),n.Xb(12,"p"),n.Cc(13),n.Wb(),n.Xb(14,"p"),n.Cc(15),n.Wb(),n.Xb(16,"p"),n.Cc(17),n.Wb(),n.Xb(18,"p"),n.Cc(19),n.Wb(),n.Xb(20,"p"),n.Cc(21),n.Wb(),n.Wb(),n.Xb(22,"mat-card-actions"),n.Xb(23,"button",4),n.Cc(24,"Ver Detalle"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=t.$implicit;n.Fb(6),n.Dc(e.company.name),n.Fb(3),n.Ec(" ",e.job.name," "),n.Fb(2),n.Ec(" ",e.company.name," "),n.Fb(2),n.Ec(" ",e.category.name," "),n.Fb(2),n.Ec(" ",e.date," "),n.Fb(2),n.Ec(" ",e.province.name," "),n.Fb(2),n.Ec(" ",e.municipe.name," "),n.Fb(2),n.Ec(" Subscrito: ",e.subscribe?"S\xed":"No"," "),n.Fb(2),n.oc("routerLink",n.rc(9,h,e.id))}}let W=(()=>{class e{constructor(e,t,a){this.profileService=e,this.offersService=t,this.dataService=a,this.ofertas=[],this.offersStudy=[],this.offersOther=[],console.log("ListadoOfertaComponent.constructor"),console.log("listado de usuario.ofertas igual = "+this.offers)}ngOnChanges(e){e.usuario&&e.offers&&this.selectOffers()}selectOffers(){this.dataService.getOfferts().subscribe(e=>{this.offers=e}),console.log("ListadoOfertaComponent selectOffers ofertas recuperadas "+this.offers)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(l.a),n.Rb(f.a),n.Rb(b.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-offers-list"]],inputs:{usuario:"usuario",offers:"offers"},features:[n.Db()],decls:5,vars:1,consts:[[1,"contenedor"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"routerLink"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Xb(2,"p"),n.Cc(3," Ofertas "),n.Wb(),n.Wb(),n.Bc(4,O,25,11,"mat-card",1),n.Wb()),2&e&&(n.Fb(4),n.oc("ngForOf",t.offers))},directives:[s.j,d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b,r.g],encapsulation:2}),e})();const X=function(e){return["/admin/offers/",e]};function g(e,t){if(1&e&&(n.Xb(0,"mat-card",2),n.Xb(1,"mat-card-header"),n.Sb(2,"div",3),n.Xb(3,"mat-card-title"),n.Cc(4),n.Wb(),n.Xb(5,"mat-card-subtitle"),n.Cc(6),n.Wb(),n.Wb(),n.Xb(7,"mat-card-content"),n.Xb(8,"p"),n.Cc(9),n.Wb(),n.Xb(10,"p"),n.Cc(11),n.Wb(),n.Xb(12,"p"),n.Cc(13),n.Wb(),n.Xb(14,"p"),n.Cc(15),n.Wb(),n.Wb(),n.Xb(16,"mat-card-actions"),n.Xb(17,"button",4),n.Cc(18,"Ver Detalle"),n.Wb(),n.Wb(),n.Wb()),2&e){const e=t.$implicit;n.Fb(4),n.Dc(e.company.name),n.Fb(2),n.Dc(e.job.name),n.Fb(3),n.Ec(" ",e.category.name," "),n.Fb(2),n.Ec(" ",e.date," "),n.Fb(2),n.Ec(" ",e.province.name," "),n.Fb(2),n.Ec(" ",e.municipe.name," "),n.Fb(2),n.oc("routerLink",n.rc(7,X,e.id))}}let C=(()=>{class e{constructor(e){this.profileService=e,this.offers=[]}selectOffers(){this.usuario=JSON.parse(localStorage.getItem("user")),this.offers=this.usuario.offers}ngOnChanges(){this.offers=this.usuario.offers}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(l.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-mis-ofertas"]],inputs:{offers:"offers",usuario:"usuario"},features:[n.Db()],decls:5,vars:1,consts:[[1,"contenedor"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"routerLink"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Xb(2,"p"),n.Cc(3,"Mis Ofertas"),n.Wb(),n.Wb(),n.Bc(4,g,19,9,"mat-card",1),n.Wb()),2&e&&(n.Fb(4),n.oc("ngForOf",t.offers))},directives:[s.j,d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b,r.g],styles:[""]}),e})();function v(e,t){if(1&e&&(n.Sb(0,"app-offers-list",1),n.kc(1,"async"),n.kc(2,"async")),2&e){const e=n.jc();n.oc("usuario",n.lc(1,2,e.usuario$))("offers",n.lc(2,4,e.offers$))}}function F(e,t){if(1&e&&(n.Sb(0,"app-mis-ofertas",1),n.kc(1,"async"),n.kc(2,"async")),2&e){const e=n.jc();n.oc("usuario",n.lc(1,2,e.usuario$))("offers",n.lc(2,4,e.offers$))}}let y=(()=>{class e{constructor(e,t){this.route=e,this.store$=t,this.listadoCompleto=!0,this.route.data.subscribe(e=>this.listadoCompleto=!e.mis_ofertas),this.usuario$=this.store$.select(o.c),this.offers$=this.store$.select(p)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(r.a),n.Rb(u.h))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-offers"]],decls:2,vars:2,consts:[[3,"usuario","offers",4,"ngIf"],[3,"usuario","offers"]],template:function(e,t){1&e&&(n.Bc(0,v,3,6,"app-offers-list",0),n.Bc(1,F,3,6,"app-mis-ofertas",0)),2&e&&(n.oc("ngIf",t.listadoCompleto),n.Fb(1),n.oc("ngIf",!t.listadoCompleto))},directives:[s.k,W,C],pipes:[s.b],styles:[""]}),e})();var S=a("g3W+");let $=(()=>{class e{constructor(e,t,a,s,r){this.router=e,this.route=t,this.profileService=a,this.offersService=s,this.dataService=r,this.ofertas=[],this.apuntarseOferta=new n.o,this.desapuntarseOferta=new n.o,this.route.params.subscribe(e=>{this.dataService.getOfferts().subscribe(t=>{this.ofertas=t,console.log("Detalle carga ofertas: "+this.ofertas),console.log("params.id: "+e.id);const a=+e.id;console.log("idRecibido: "+a),this.oferta=this.ofertas.find(e=>e.id===a)||{},console.log(this.oferta.id)})})}ngOnInit(){console.log("oninit"),this.usuario=JSON.parse(localStorage.getItem("user")),console.log(this.usuario.name)}aputarseOferta(){const e=[...this.usuario.offers,this.oferta],t=Object.assign(Object.assign({},this.usuario),{offers:e});this.apuntarseOferta.emit(t)}desaputarseOferta(){const e=this.usuario.offers.filter(e=>e.id!==this.oferta.id),t=Object.assign(Object.assign({},this.usuario),{offers:e});this.desapuntarseOferta.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(r.f),n.Rb(r.a),n.Rb(l.a),n.Rb(f.a),n.Rb(b.a))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-detalle-oferta"]],inputs:{usuario:"usuario",oferta:"oferta"},outputs:{apuntarseOferta:"apuntarseOferta",desapuntarseOferta:"desapuntarseOferta"},decls:29,vars:7,consts:[[1,"contenedor"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(n.Xb(0,"div",0),n.Xb(1,"h2"),n.Xb(2,"p"),n.Cc(3,"Detalle de Oferta"),n.Wb(),n.Wb(),n.Xb(4,"mat-card",1),n.Xb(5,"mat-card-header"),n.Sb(6,"div",2),n.Xb(7,"mat-card-title"),n.Cc(8,"Compa\xf1ia"),n.Wb(),n.Xb(9,"mat-card-subtitle"),n.Cc(10),n.Wb(),n.Wb(),n.Xb(11,"mat-card-content"),n.Xb(12,"p"),n.Cc(13),n.Wb(),n.Xb(14,"p"),n.Cc(15),n.Wb(),n.Xb(16,"p"),n.Cc(17),n.Wb(),n.Xb(18,"p"),n.Cc(19),n.Wb(),n.Xb(20,"p"),n.Cc(21),n.Wb(),n.Xb(22,"p"),n.Cc(23),n.Wb(),n.Wb(),n.Xb(24,"mat-card-actions"),n.Xb(25,"button",3),n.fc("click",(function(e){return t.aputarseOferta()})),n.Cc(26,"Apuntarse"),n.Wb(),n.Xb(27,"button",3),n.fc("click",(function(e){return t.desaputarseOferta()})),n.Cc(28,"Desapuntarse"),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&e&&(n.Fb(10),n.Dc(t.oferta.company.name),n.Fb(3),n.Ec(" ",t.oferta.job.name," "),n.Fb(2),n.Ec(" ",t.oferta.company.name," "),n.Fb(2),n.Ec(" ",t.oferta.category.name," "),n.Fb(2),n.Ec(" ",t.oferta.date," "),n.Fb(2),n.Ec(" ",t.oferta.province.name," "),n.Fb(2),n.Ec(" ",t.oferta.municipe.name," "))},directives:[d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b],styles:[""]}),e})();const k=[{path:"",component:y},{path:"mis-ofertas",component:y,data:{mis_ofertas:!0}},{path:":id",component:(()=>{class e{constructor(e,t,a){this.store$=e,this.route=t,this.router=a,this.usuario$=this.store$.select(o.c),this.oferta$=this.route.params.pipe(Object(i.a)(({id:e})=>Number.parseInt(e)),Object(c.a)(e=>this.store$.select(function(e){return Object(u.p)(p,t=>t.find(t=>t.id===e))}(e))))}onApuntarseOferta(e){this.store$.dispatch(new S.d(e)),this.router.navigate(["/admin/profile"])}onDesapuntarseOferta(e){this.store$.dispatch(new S.d(e)),this.router.navigate(["/admin/profile"])}}return e.\u0275fac=function(t){return new(t||e)(n.Rb(u.h),n.Rb(r.a),n.Rb(r.f))},e.\u0275cmp=n.Lb({type:e,selectors:[["app-detalle-oferta-store"]],decls:3,vars:6,consts:[[3,"usuario","oferta","apuntarseOferta","desapuntarseOferta"]],template:function(e,t){1&e&&(n.Xb(0,"app-detalle-oferta",0),n.fc("apuntarseOferta",(function(e){return t.onApuntarseOferta(e)}))("desapuntarseOferta",(function(e){return t.onDesapuntarseOferta(e)})),n.kc(1,"async"),n.kc(2,"async"),n.Wb()),2&e&&n.oc("usuario",n.lc(1,2,t.usuario$))("oferta",n.lc(2,4,t.oferta$))},directives:[$],pipes:[s.b],encapsulation:2}),e})()}];let w=(()=>{class e{}return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)},imports:[[r.i.forChild(k)],r.i]}),e})();var j=a("PCNd"),E=a("3Pt+"),R=a("wZkO"),L=a("+0xr"),D=a("qFsG"),I=a("YUcS"),x=a("iadO"),J=a("FKr1"),N=a("d3UM");a.d(t,"OffersModule",(function(){return B}));let B=(()=>{class e{}return e.\u0275mod=n.Pb({type:e}),e.\u0275inj=n.Ob({factory:function(t){return new(t||e)},imports:[[E.o,E.h,s.c,j.a,s.c,w,R.c,L.a,d.f,m.c,D.c,I.a,x.c,J.h,N.b]]}),e})()}}]);