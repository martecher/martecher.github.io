function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var c=t[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ffW3:function(e,t,r){"use strict";r.r(t);var c=r("ofXK"),n=r("tyNb"),s=r("dnXt"),i=r("OVFJ"),b=r("fXoL"),f=r("kt0X"),o=function(e){return[e]};function a(e,t){if(1&e&&(b.Pb(0,"tr"),b.Pb(1,"td"),b.lc(2),b.Ob(),b.Pb(3,"td"),b.lc(4),b.Ob(),b.Pb(5,"td"),b.lc(6),b.Ob(),b.Pb(7,"td"),b.lc(8),b.Ob(),b.Pb(9,"td"),b.lc(10),b.Ob(),b.Pb(11,"td"),b.lc(12),b.Ob(),b.Pb(13,"td"),b.lc(14),b.Ob(),b.Pb(15,"td"),b.Pb(16,"a",3),b.lc(17,"Ver Detalle"),b.Ob(),b.Ob(),b.Ob()),2&e){var r=t.$implicit;b.Cb(2),b.mc(r.job.name),b.Cb(2),b.mc(r.company.name),b.Cb(2),b.mc(r.category.name),b.Cb(2),b.mc(r.date),b.Cb(2),b.mc(r.province.name),b.Cb(2),b.mc(r.municipe.name),b.Cb(2),b.mc(r.subscribe?"S\xed":"No"),b.Cb(2),b.cc("routerLink",b.fc(8,o,r.id))}}function u(e,t){if(1&e&&(b.Pb(0,"tr"),b.Pb(1,"td"),b.lc(2),b.Ob(),b.Pb(3,"td"),b.lc(4),b.Ob(),b.Pb(5,"td"),b.lc(6),b.Ob(),b.Pb(7,"td"),b.lc(8),b.Ob(),b.Pb(9,"td"),b.lc(10),b.Ob(),b.Pb(11,"td"),b.lc(12),b.Ob(),b.Nb(13,"td"),b.Ob()),2&e){var r=t.$implicit;b.Cb(2),b.mc(r.job.name),b.Cb(2),b.mc(r.company.name),b.Cb(2),b.mc(r.category.name),b.Cb(2),b.mc(r.date),b.Cb(2),b.mc(r.province.name),b.Cb(2),b.mc(r.municipe.name)}}var l,O=((l=function(){function e(){_classCallCheck(this,e),this.offersStudy=[],this.offersOther=[]}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.user&&e.offers&&this.selectOffers()}},{key:"selectOffers",value:function(){var e=this.user.studies,t=this.user.offers;this.offersStudy=this.offers.filter((function(t){return e.some((function(e){return e.uid===t.category.uid}))})).map((function(e){var r=!!t.find((function(t){return t.id===e.id}));return Object.assign(Object.assign({},e),{subscribe:r})})),this.offersOther=this.offers.filter((function(t){return e.every((function(e){return e.uid!==t.category.uid}))}))}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=b.Gb({type:l,selectors:[["app-offers-list"]],inputs:{user:"user",offers:"offers"},features:[b.Ab()],decls:42,vars:2,consts:[[1,"table","table-bordered","table-striped"],[1,"thead-light"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"]],template:function(e,t){1&e&&(b.Pb(0,"h3"),b.lc(1,"Cumple con la Titulaci\xf3n (Familia)"),b.Ob(),b.Pb(2,"table",0),b.Pb(3,"thead",1),b.Pb(4,"tr"),b.Pb(5,"th"),b.lc(6,"Puesto"),b.Ob(),b.Pb(7,"th"),b.lc(8,"Empresa"),b.Ob(),b.Pb(9,"th"),b.lc(10,"Familia"),b.Ob(),b.Pb(11,"th"),b.lc(12,"Fecha"),b.Ob(),b.Pb(13,"th"),b.lc(14,"Provincia"),b.Ob(),b.Pb(15,"th"),b.lc(16,"Municipio"),b.Ob(),b.Pb(17,"th"),b.lc(18,"Inscrito"),b.Ob(),b.Pb(19,"th"),b.lc(20,"Acciones"),b.Ob(),b.Ob(),b.Ob(),b.Pb(21,"tbody"),b.kc(22,a,18,10,"tr",2),b.Ob(),b.Ob(),b.Pb(23,"h3"),b.lc(24,"Otras Ofertas"),b.Ob(),b.Pb(25,"table",0),b.Pb(26,"thead",1),b.Pb(27,"tr"),b.Pb(28,"th"),b.lc(29,"Puesto"),b.Ob(),b.Pb(30,"th"),b.lc(31,"Empresa"),b.Ob(),b.Pb(32,"th"),b.lc(33,"Familia"),b.Ob(),b.Pb(34,"th"),b.lc(35,"Fecha"),b.Ob(),b.Pb(36,"th"),b.lc(37,"Provincia"),b.Ob(),b.Pb(38,"th"),b.lc(39,"Municipio"),b.Ob(),b.Ob(),b.Ob(),b.Pb(40,"tbody"),b.kc(41,u,14,6,"tr",2),b.Ob(),b.Ob()),2&e&&(b.Cb(22),b.cc("ngForOf",t.offersStudy),b.Cb(19),b.cc("ngForOf",t.offersOther))},directives:[c.k,n.g],encapsulation:2}),l),h=function(e){return["/admin/offers/",e]};function p(e,t){if(1&e&&(b.Pb(0,"tr"),b.Pb(1,"td"),b.lc(2),b.Ob(),b.Pb(3,"td"),b.lc(4),b.Ob(),b.Pb(5,"td"),b.lc(6),b.Ob(),b.Pb(7,"td"),b.lc(8),b.Ob(),b.Pb(9,"td"),b.lc(10),b.Ob(),b.Pb(11,"td"),b.lc(12),b.Ob(),b.Pb(13,"td"),b.Pb(14,"a",3),b.lc(15,"Ver Detalle"),b.Ob(),b.Ob(),b.Ob()),2&e){var r=t.$implicit;b.Cb(2),b.mc(r.job.name),b.Cb(2),b.mc(r.company.name),b.Cb(2),b.mc(r.category.name),b.Cb(2),b.mc(r.date),b.Cb(2),b.mc(r.province.name),b.Cb(2),b.mc(r.municipe.name),b.Cb(2),b.cc("routerLink",b.fc(7,h,r.id))}}var d,m=((d=function(){function e(){_classCallCheck(this,e),this.offers=[]}return _createClass(e,[{key:"ngOnChanges",value:function(){this.offers=this.user.offers}}]),e}()).\u0275fac=function(e){return new(e||d)},d.\u0275cmp=b.Gb({type:d,selectors:[["app-offers-profile"]],inputs:{user:"user"},features:[b.Ab()],decls:21,vars:1,consts:[[1,"table","table-bordered","table-striped"],[1,"thead-light"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"routerLink"]],template:function(e,t){1&e&&(b.Pb(0,"h3"),b.lc(1,"Mis Ofertas"),b.Ob(),b.Pb(2,"table",0),b.Pb(3,"thead",1),b.Pb(4,"tr"),b.Pb(5,"th"),b.lc(6,"Puesto"),b.Ob(),b.Pb(7,"th"),b.lc(8,"Empresa"),b.Ob(),b.Pb(9,"th"),b.lc(10,"Familia"),b.Ob(),b.Pb(11,"th"),b.lc(12,"Fecha"),b.Ob(),b.Pb(13,"th"),b.lc(14,"Provincia"),b.Ob(),b.Pb(15,"th"),b.lc(16,"Municipio"),b.Ob(),b.Pb(17,"th"),b.lc(18,"Acciones"),b.Ob(),b.Ob(),b.Ob(),b.Pb(19,"tbody"),b.kc(20,p,16,9,"tr",2),b.Ob(),b.Ob()),2&e&&(b.Cb(20),b.cc("ngForOf",t.offers))},directives:[c.k,n.g],encapsulation:2}),d);function P(e,t){if(1&e&&(b.Nb(0,"app-offers-list",2),b.ac(1,"async"),b.ac(2,"async")),2&e){var r=b.Zb();b.cc("user",b.bc(1,2,r.user$))("offers",b.bc(2,4,r.offers$))}}function y(e,t){if(1&e&&(b.Nb(0,"app-offers-profile",3),b.ac(1,"async")),2&e){var r=b.Zb();b.cc("user",b.bc(1,1,r.user$))}}var C,v=((C=function(){function e(t,r){var c=this;_classCallCheck(this,e),this.route=t,this.store$=r,this.isOffersList=!0,this.route.data.subscribe((function(e){return c.isOffersList=!e.my_offers})),this.user$=this.store$.select(s.b),this.offers$=this.store$.select(i.c)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||C)(b.Mb(n.a),b.Mb(f.h))},C.\u0275cmp=b.Gb({type:C,selectors:[["app-offers"]],decls:4,vars:2,consts:[[3,"user","offers",4,"ngIf"],[3,"user",4,"ngIf"],[3,"user","offers"],[3,"user"]],template:function(e,t){1&e&&(b.Pb(0,"h2"),b.lc(1," Offers\n"),b.Ob(),b.kc(2,P,3,6,"app-offers-list",0),b.kc(3,y,2,3,"app-offers-profile",1)),2&e&&(b.Cb(2),b.cc("ngIf",t.isOffersList),b.Cb(1),b.cc("ngIf",!t.isOffersList))},directives:[c.l,O,m],pipes:[c.b],styles:[""]}),C),g=r("lJxs"),k=r("eIep"),_=r("dS7W");function w(e,t){if(1&e){var r=b.Qb();b.Pb(0,"button",2),b.Xb("click",(function(e){return b.hc(r),b.Zb().subscribe()})),b.lc(1," Inscribirse\n"),b.Ob()}}function $(e,t){if(1&e){var r=b.Qb();b.Pb(0,"button",3),b.Xb("click",(function(e){return b.hc(r),b.Zb().unsubscribe()})),b.lc(1," Eliminar oferta\n"),b.Ob()}}var j,I,F,S=((j=function(){function e(){_classCallCheck(this,e),this.subscribeOffer=new b.n,this.unsubscribeOffer=new b.n}return _createClass(e,[{key:"subscribe",value:function(){var e=[].concat(_toConsumableArray(this.user.offers),[this.offer]),t=Object.assign(Object.assign({},this.user),{offers:e});this.subscribeOffer.emit(t)}},{key:"unsubscribe",value:function(){var e=this,t=this.user.offers.filter((function(t){return t.id!==e.offer.id})),r=Object.assign(Object.assign({},this.user),{offers:t});this.unsubscribeOffer.emit(r)}},{key:"isSubscribe",value:function(){var e=this;return!(!this.user||!this.user.offers.find((function(t){return e.offer.id===t.id})))}}]),e}()).\u0275fac=function(e){return new(e||j)},j.\u0275cmp=b.Gb({type:j,selectors:[["app-offers-detail"]],inputs:{offer:"offer",user:"user"},outputs:{subscribeOffer:"subscribeOffer",unsubscribeOffer:"unsubscribeOffer"},decls:7,vars:5,consts:[["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(b.Pb(0,"h2"),b.lc(1," Offers Detail\n"),b.Ob(),b.Pb(2,"pre"),b.lc(3),b.ac(4,"json"),b.Ob(),b.kc(5,w,2,0,"button",0),b.kc(6,$,2,0,"button",1)),2&e&&(b.Cb(3),b.nc("",b.bc(4,3,t.offer)," "),b.Cb(2),b.cc("ngIf",!t.isSubscribe()),b.Cb(1),b.cc("ngIf",t.isSubscribe()))},directives:[c.l],pipes:[c.f],styles:[""]}),j),A=[{path:"",component:v},{path:"my-offers",component:v,data:{my_offers:!0}},{path:":id",component:(I=function(){function e(t,r){var c=this;_classCallCheck(this,e),this.store$=t,this.route=r,this.user$=this.store$.select(s.b),this.offer$=this.route.params.pipe(Object(g.a)((function(e){var t=e.id;return Number.parseInt(t)})),Object(k.a)((function(e){return c.store$.select(Object(i.b)(e))})))}return _createClass(e,[{key:"onSubscribeOffer",value:function(e){this.store$.dispatch(new _.l(e))}},{key:"onUnsubscribeOffer",value:function(e){this.store$.dispatch(new _.l(e))}}]),e}(),I.\u0275fac=function(e){return new(e||I)(b.Mb(f.h),b.Mb(n.a))},I.\u0275cmp=b.Gb({type:I,selectors:[["app-offers-detail-wrapper"]],decls:3,vars:6,consts:[[3,"user","offer","subscribeOffer","unsubscribeOffer"]],template:function(e,t){1&e&&(b.Pb(0,"app-offers-detail",0),b.Xb("subscribeOffer",(function(e){return t.onSubscribeOffer(e)}))("unsubscribeOffer",(function(e){return t.onUnsubscribeOffer(e)})),b.ac(1,"async"),b.ac(2,"async"),b.Ob()),2&e&&b.cc("user",b.bc(1,2,t.user$))("offer",b.bc(2,4,t.offer$))},directives:[S],pipes:[c.b],encapsulation:2}),I)}],L=((F=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:F}),F.\u0275inj=b.Jb({factory:function(e){return new(e||F)},imports:[[n.h.forChild(A)],n.h]}),F);r.d(t,"OffersModule",(function(){return X}));var M,X=((M=function e(){_classCallCheck(this,e)}).\u0275mod=b.Kb({type:M}),M.\u0275inj=b.Jb({factory:function(e){return new(e||M)},imports:[[c.c,L]]}),M)}}]);