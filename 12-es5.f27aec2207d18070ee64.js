function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ffW3:function(e,t,a){"use strict";a.r(t);var r=a("ofXK"),s=a("tyNb"),o=a("zk9Z"),n=(a("nWBv"),a("HXdO"),a("mrSG"),a("snw9"),a("eIep")),c=a("lJxs"),i=(a("JIr8"),a("LRne"),a("fXoL")),f=a("A5HK"),u=a("q/L4"),b=a("kt0X"),l=Object(b.o)("offers"),p=a("v0/F"),d=a("Wp6s"),m=a("bTqV"),h=function(e){return[e]};function v(e,t){if(1&e&&(i.Xb(0,"mat-card",2),i.Xb(1,"mat-card-header"),i.Sb(2,"div",3),i.Xb(3,"mat-card-title"),i.Cc(4,"Compa\xf1ia"),i.Wb(),i.Xb(5,"mat-card-subtitle"),i.Cc(6),i.Wb(),i.Wb(),i.Xb(7,"mat-card-content"),i.Xb(8,"p"),i.Cc(9),i.Wb(),i.Xb(10,"p"),i.Cc(11),i.Wb(),i.Xb(12,"p"),i.Cc(13),i.Wb(),i.Xb(14,"p"),i.Cc(15),i.Wb(),i.Xb(16,"p"),i.Cc(17),i.Wb(),i.Xb(18,"p"),i.Cc(19),i.Wb(),i.Xb(20,"p"),i.Cc(21),i.Wb(),i.Wb(),i.Xb(22,"mat-card-actions"),i.Xb(23,"button",4),i.Cc(24,"Ver Detalle"),i.Wb(),i.Wb(),i.Wb()),2&e){var a=t.$implicit;i.Fb(6),i.Dc(a.company.name),i.Fb(3),i.Ec(" ",a.job.name," "),i.Fb(2),i.Ec(" ",a.company.name," "),i.Fb(2),i.Ec(" ",a.category.name," "),i.Fb(2),i.Ec(" ",a.date," "),i.Fb(2),i.Ec(" ",a.province.name," "),i.Fb(2),i.Ec(" ",a.municipe.name," "),i.Fb(2),i.Ec(" Subscrito: ",a.subscribe?"S\xed":"No"," "),i.Fb(2),i.oc("routerLink",i.rc(9,h,a.id))}}var C,O=((C=function(){function e(t,a,r){_classCallCheck(this,e),this.profileService=t,this.offersService=a,this.dataService=r,this.ofertas=[],this.offersStudy=[],this.offersOther=[],console.log("ListadoOfertaComponent.constructor"),console.log("listado de usuario.ofertas igual = "+this.offers)}return _createClass(e,[{key:"ngOnChanges",value:function(e){e.usuario&&e.offers&&this.selectOffers()}},{key:"selectOffers",value:function(){var e=this;this.dataService.getOfferts().subscribe((function(t){e.offers=t})),console.log("ListadoOfertaComponent selectOffers ofertas recuperadas "+this.offers)}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||C)(i.Rb(p.a),i.Rb(f.a),i.Rb(u.a))},C.\u0275cmp=i.Lb({type:C,selectors:[["app-offers-list"]],inputs:{usuario:"usuario",offers:"offers"},features:[i.Db()],decls:5,vars:1,consts:[[1,"contenedor"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"routerLink"]],template:function(e,t){1&e&&(i.Xb(0,"div",0),i.Xb(1,"h2"),i.Xb(2,"p"),i.Cc(3," Ofertas "),i.Wb(),i.Wb(),i.Bc(4,v,25,11,"mat-card",1),i.Wb()),2&e&&(i.Fb(4),i.oc("ngForOf",t.offers))},directives:[r.j,d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b,s.g],encapsulation:2}),C),g=function(e){return["/admin/offers/",e]};function y(e,t){if(1&e&&(i.Xb(0,"mat-card",2),i.Xb(1,"mat-card-header"),i.Sb(2,"div",3),i.Xb(3,"mat-card-title"),i.Cc(4),i.Wb(),i.Xb(5,"mat-card-subtitle"),i.Cc(6),i.Wb(),i.Wb(),i.Xb(7,"mat-card-content"),i.Xb(8,"p"),i.Cc(9),i.Wb(),i.Xb(10,"p"),i.Cc(11),i.Wb(),i.Xb(12,"p"),i.Cc(13),i.Wb(),i.Xb(14,"p"),i.Cc(15),i.Wb(),i.Wb(),i.Xb(16,"mat-card-actions"),i.Xb(17,"button",4),i.Cc(18,"Ver Detalle"),i.Wb(),i.Wb(),i.Wb()),2&e){var a=t.$implicit;i.Fb(4),i.Dc(a.company.name),i.Fb(2),i.Dc(a.job.name),i.Fb(3),i.Ec(" ",a.category.name," "),i.Fb(2),i.Ec(" ",a.date," "),i.Fb(2),i.Ec(" ",a.province.name," "),i.Fb(2),i.Ec(" ",a.municipe.name," "),i.Fb(2),i.oc("routerLink",i.rc(7,g,a.id))}}var W,X=((W=function(){function e(t){_classCallCheck(this,e),this.profileService=t,this.offers=[]}return _createClass(e,[{key:"selectOffers",value:function(){this.usuario=JSON.parse(localStorage.getItem("user")),this.offers=this.usuario.offers}},{key:"ngOnChanges",value:function(){this.offers=this.usuario.offers}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||W)(i.Rb(p.a))},W.\u0275cmp=i.Lb({type:W,selectors:[["app-mis-ofertas"]],inputs:{offers:"offers",usuario:"usuario"},features:[i.Db()],decls:5,vars:1,consts:[[1,"contenedor"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"routerLink"]],template:function(e,t){1&e&&(i.Xb(0,"div",0),i.Xb(1,"h2"),i.Xb(2,"p"),i.Cc(3,"Mis Ofertas"),i.Wb(),i.Wb(),i.Bc(4,y,19,9,"mat-card",1),i.Wb()),2&e&&(i.Fb(4),i.oc("ngForOf",t.offers))},directives:[r.j,d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b,s.g],styles:[""]}),W);function k(e,t){if(1&e&&(i.Sb(0,"app-offers-list",1),i.kc(1,"async"),i.kc(2,"async")),2&e){var a=i.jc();i.oc("usuario",i.lc(1,2,a.usuario$))("offers",i.lc(2,4,a.offers$))}}function F(e,t){if(1&e&&(i.Sb(0,"app-mis-ofertas",1),i.kc(1,"async"),i.kc(2,"async")),2&e){var a=i.jc();i.oc("usuario",i.lc(1,2,a.usuario$))("offers",i.lc(2,4,a.offers$))}}var S,_,w,j,$=((S=function(){function e(t,a){var r=this;_classCallCheck(this,e),this.route=t,this.store$=a,this.listadoCompleto=!0,this.route.data.subscribe((function(e){return r.listadoCompleto=!e.mis_ofertas})),this.usuario$=this.store$.select(o.c),this.offers$=this.store$.select(l)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||S)(i.Rb(s.a),i.Rb(b.h))},S.\u0275cmp=i.Lb({type:S,selectors:[["app-offers"]],decls:2,vars:2,consts:[[3,"usuario","offers",4,"ngIf"],[3,"usuario","offers"]],template:function(e,t){1&e&&(i.Bc(0,k,3,6,"app-offers-list",0),i.Bc(1,F,3,6,"app-mis-ofertas",0)),2&e&&(i.oc("ngIf",t.listadoCompleto),i.Fb(1),i.oc("ngIf",!t.listadoCompleto))},directives:[r.k,O,X],pipes:[r.b],styles:[""]}),S),E=a("g3W+"),R=((_=function(){function e(t,a,r,s,o){var n=this;_classCallCheck(this,e),this.router=t,this.route=a,this.profileService=r,this.offersService=s,this.dataService=o,this.ofertas=[],this.apuntarseOferta=new i.o,this.desapuntarseOferta=new i.o,this.route.params.subscribe((function(e){n.dataService.getOfferts().subscribe((function(t){n.ofertas=t,console.log("Detalle carga ofertas: "+n.ofertas),console.log("params.id: "+e.id);var a=+e.id;console.log("idRecibido: "+a),n.oferta=n.ofertas.find((function(e){return e.id===a}))||{},console.log(n.oferta.id)}))}))}return _createClass(e,[{key:"ngOnInit",value:function(){console.log("oninit"),this.usuario=JSON.parse(localStorage.getItem("user")),console.log(this.usuario.name)}},{key:"aputarseOferta",value:function(){var e=[].concat(_toConsumableArray(this.usuario.offers),[this.oferta]),t=Object.assign(Object.assign({},this.usuario),{offers:e});this.apuntarseOferta.emit(t)}},{key:"desaputarseOferta",value:function(){var e=this,t=this.usuario.offers.filter((function(t){return t.id!==e.oferta.id})),a=Object.assign(Object.assign({},this.usuario),{offers:t});this.desapuntarseOferta.emit(a)}}]),e}()).\u0275fac=function(e){return new(e||_)(i.Rb(s.f),i.Rb(s.a),i.Rb(p.a),i.Rb(f.a),i.Rb(u.a))},_.\u0275cmp=i.Lb({type:_,selectors:[["app-detalle-oferta"]],inputs:{usuario:"usuario",oferta:"oferta"},outputs:{apuntarseOferta:"apuntarseOferta",desapuntarseOferta:"desapuntarseOferta"},decls:29,vars:7,consts:[[1,"contenedor"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(i.Xb(0,"div",0),i.Xb(1,"h2"),i.Xb(2,"p"),i.Cc(3,"Detalle de Oferta"),i.Wb(),i.Wb(),i.Xb(4,"mat-card",1),i.Xb(5,"mat-card-header"),i.Sb(6,"div",2),i.Xb(7,"mat-card-title"),i.Cc(8,"Compa\xf1ia"),i.Wb(),i.Xb(9,"mat-card-subtitle"),i.Cc(10),i.Wb(),i.Wb(),i.Xb(11,"mat-card-content"),i.Xb(12,"p"),i.Cc(13),i.Wb(),i.Xb(14,"p"),i.Cc(15),i.Wb(),i.Xb(16,"p"),i.Cc(17),i.Wb(),i.Xb(18,"p"),i.Cc(19),i.Wb(),i.Xb(20,"p"),i.Cc(21),i.Wb(),i.Xb(22,"p"),i.Cc(23),i.Wb(),i.Wb(),i.Xb(24,"mat-card-actions"),i.Xb(25,"button",3),i.fc("click",(function(e){return t.aputarseOferta()})),i.Cc(26,"Apuntarse"),i.Wb(),i.Xb(27,"button",3),i.fc("click",(function(e){return t.desaputarseOferta()})),i.Cc(28,"Desapuntarse"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&e&&(i.Fb(10),i.Dc(t.oferta.company.name),i.Fb(3),i.Ec(" ",t.oferta.job.name," "),i.Fb(2),i.Ec(" ",t.oferta.company.name," "),i.Fb(2),i.Ec(" ",t.oferta.category.name," "),i.Fb(2),i.Ec(" ",t.oferta.date," "),i.Fb(2),i.Ec(" ",t.oferta.province.name," "),i.Fb(2),i.Ec(" ",t.oferta.municipe.name," "))},directives:[d.a,d.e,d.c,d.h,d.g,d.d,d.b,m.b],styles:[""]}),_),I=[{path:"",component:$},{path:"mis-ofertas",component:$,data:{mis_ofertas:!0}},{path:":id",component:(w=function(){function e(t,a,r){var s=this;_classCallCheck(this,e),this.store$=t,this.route=a,this.router=r,this.usuario$=this.store$.select(o.c),this.oferta$=this.route.params.pipe(Object(c.a)((function(e){var t=e.id;return Number.parseInt(t)})),Object(n.a)((function(e){return s.store$.select(function(e){return Object(b.p)(l,(function(t){return t.find((function(t){return t.id===e}))}))}(e))})))}return _createClass(e,[{key:"onApuntarseOferta",value:function(e){this.store$.dispatch(new E.d(e)),this.router.navigate(["/admin/profile"])}},{key:"onDesapuntarseOferta",value:function(e){this.store$.dispatch(new E.d(e)),this.router.navigate(["/admin/profile"])}}]),e}(),w.\u0275fac=function(e){return new(e||w)(i.Rb(b.h),i.Rb(s.a),i.Rb(s.f))},w.\u0275cmp=i.Lb({type:w,selectors:[["app-detalle-oferta-store"]],decls:3,vars:6,consts:[[3,"usuario","oferta","apuntarseOferta","desapuntarseOferta"]],template:function(e,t){1&e&&(i.Xb(0,"app-detalle-oferta",0),i.fc("apuntarseOferta",(function(e){return t.onApuntarseOferta(e)}))("desapuntarseOferta",(function(e){return t.onDesapuntarseOferta(e)})),i.kc(1,"async"),i.kc(2,"async"),i.Wb()),2&e&&i.oc("usuario",i.lc(1,2,t.usuario$))("oferta",i.lc(2,4,t.oferta$))},directives:[R],pipes:[r.b],encapsulation:2}),w)}],L=((j=function e(){_classCallCheck(this,e)}).\u0275mod=i.Pb({type:j}),j.\u0275inj=i.Ob({factory:function(e){return new(e||j)},imports:[[s.i.forChild(I)],s.i]}),j),A=a("PCNd"),D=a("3Pt+"),x=a("wZkO"),P=a("+0xr"),J=a("qFsG"),N=a("YUcS"),B=a("iadO"),T=a("FKr1"),H=a("d3UM");a.d(t,"OffersModule",(function(){return K}));var q,K=((q=function e(){_classCallCheck(this,e)}).\u0275mod=i.Pb({type:q}),q.\u0275inj=i.Ob({factory:function(e){return new(e||q)},imports:[[D.o,D.h,r.c,A.a,r.c,L,x.c,P.a,d.f,m.c,J.c,N.a,B.c,T.h,H.b]]}),q)}}]);